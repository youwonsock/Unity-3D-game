\hypertarget{_net_manager_8cs_source}{}\doxysection{Net\+Manager.\+cs}
\label{_net_manager_8cs_source}\index{Assets/ConsolePro/Remote/LiteNetLib/NetManager.cs@{Assets/ConsolePro/Remote/LiteNetLib/NetManager.cs}}
\mbox{\hyperlink{_net_manager_8cs}{이 파일의 문서화 페이지로 가기}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00001}00001 \textcolor{keyword}{using }System;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00002}00002 \textcolor{keyword}{using }System.Collections;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00003}00003 \textcolor{keyword}{using }System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00004}00004 \textcolor{keyword}{using }System.Diagnostics;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00005}00005 \textcolor{keyword}{using }System.Net;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00006}00006 \textcolor{keyword}{using }System.Net.Sockets;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00007}00007 \textcolor{keyword}{using }System.Threading;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00008}00008 \textcolor{keyword}{using }\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_1_1_layers}{FlyingWormConsole3.LiteNetLib.Layers}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00009}00009 \textcolor{keyword}{using }\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_1_1_utils}{FlyingWormConsole3.LiteNetLib.Utils}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00011}00011 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib}{FlyingWormConsole3.LiteNetLib}}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00012}00012 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00013}\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ac244d9e0651c11d2ccf5cf3d783bf5a4}{00013}}     \textcolor{keyword}{public} \textcolor{keyword}{enum} \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ac244d9e0651c11d2ccf5cf3d783bf5a4}{IPv6Mode}}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00014}00014     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00015}00015         \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ac244d9e0651c11d2ccf5cf3d783bf5a4ab9f5c797ebbf55adccdd8539a65a0241}{Disabled}},}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00016}00016         \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ac244d9e0651c11d2ccf5cf3d783bf5a4a9e412a29fb971bb342ba56d00f903ca3}{SeparateSocket}},}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00017}00017         \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ac244d9e0651c11d2ccf5cf3d783bf5a4a223e5f2361e608dc07f949bf5c1599f6}{DualMode}}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00018}00018     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00020}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_packet_reader}{00020}}     \textcolor{keyword}{public} sealed \textcolor{keyword}{class }\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_packet_reader}{NetPacketReader}} : \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_reader}{NetDataReader}}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00021}00021     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00022}00022         \textcolor{keyword}{private} NetPacket \_packet;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00023}00023         \textcolor{keyword}{private} readonly \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager}{NetManager}} \_manager;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00024}00024         \textcolor{keyword}{private} readonly NetEvent \_evt;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00025}00025 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00026}00026         \textcolor{keyword}{internal} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_packet_reader}{NetPacketReader}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager}{NetManager}} manager, NetEvent evt)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00027}00027         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00028}00028             \_manager = manager;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00029}00029             \_evt = evt;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00030}00030         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00032}00032         \textcolor{keyword}{internal} \textcolor{keywordtype}{void} SetSource(NetPacket packet, \textcolor{keywordtype}{int} headerSize)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00033}00033         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00034}00034             \textcolor{keywordflow}{if} (packet == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00035}00035                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00036}00036             \_packet = packet;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00037}00037             SetSource(packet.RawData, headerSize, packet.Size);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00038}00038         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00040}00040         \textcolor{keyword}{internal} \textcolor{keywordtype}{void} RecycleInternal()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00041}00041         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00042}00042             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_reader_afc4e9126a59fa19c860feb3986c7379a}{Clear}}();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00043}00043             \textcolor{keywordflow}{if} (\_packet != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00044}00044                 \_manager.NetPacketPool.Recycle(\_packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00045}00045             \_packet = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00046}00046             \_manager.RecycleEvent(\_evt);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00047}00047         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00048}00048 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00049}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_packet_reader_aabf049dbdad33e2bde378c636b403c26}{00049}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_packet_reader_aabf049dbdad33e2bde378c636b403c26}{Recycle}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00050}00050         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00051}00051             \textcolor{keywordflow}{if}(\_manager.AutoRecycle)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00052}00052                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} Exception(\textcolor{stringliteral}{"{}Recycle called with AutoRecycle enabled"{}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00053}00053             RecycleInternal();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00054}00054         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00055}00055     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00057}00057     \textcolor{keyword}{internal} sealed \textcolor{keyword}{class }NetEvent}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00058}00058     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00059}00059         \textcolor{keyword}{public} NetEvent Next;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00061}00061         \textcolor{keyword}{public} \textcolor{keyword}{enum} EType}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00062}00062         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00063}00063             Connect,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00064}00064             Disconnect,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00065}00065             Receive,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00066}00066             ReceiveUnconnected,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00067}00067             Error,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00068}00068             ConnectionLatencyUpdated,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00069}00069             Broadcast,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00070}00070             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request}{ConnectionRequest}},}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00071}00071             MessageDelivered}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00072}00072         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00073}00073         \textcolor{keyword}{public} EType Type;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00074}00074 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00075}00075         \textcolor{keyword}{public} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} Peer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00076}00076         \textcolor{keyword}{public} IPEndPoint RemoteEndPoint;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00077}00077         \textcolor{keyword}{public} \textcolor{keywordtype}{object} UserData;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00078}00078         \textcolor{keyword}{public} \textcolor{keywordtype}{int} Latency;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00079}00079         \textcolor{keyword}{public} SocketError ErrorCode;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00080}00080         \textcolor{keyword}{public} \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}} \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00081}00081         \textcolor{keyword}{public} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request}{ConnectionRequest}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request}{ConnectionRequest}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00082}00082         \textcolor{keyword}{public} \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00083}00083         \textcolor{keyword}{public} readonly \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_packet_reader}{NetPacketReader}} DataReader;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00084}00084 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00085}00085         \textcolor{keyword}{public} NetEvent(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager}{NetManager}} manager)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00086}00086         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00087}00087             DataReader = \textcolor{keyword}{new} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_packet_reader}{NetPacketReader}}(manager, \textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00088}00088         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00089}00089     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00094}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager}{00094}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager}{NetManager}} : IEnumerable<NetPeer>}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00095}00095     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00096}00096         \textcolor{keyword}{private} \textcolor{keyword}{class }IPEndPointComparer : IEqualityComparer<IPEndPoint>}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00097}00097         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00098}00098             \textcolor{keyword}{public} \textcolor{keywordtype}{bool} Equals(IPEndPoint x, IPEndPoint y)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00099}00099             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00100}00100                 \textcolor{keywordflow}{return} x.Address.Equals(y.Address) \&\& x.Port == y.Port;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00101}00101             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00103}00103             \textcolor{keyword}{public} \textcolor{keywordtype}{int} GetHashCode(IPEndPoint obj)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00104}00104             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00105}00105                 \textcolor{keywordflow}{return} obj.GetHashCode();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00106}00106             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00107}00107         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00109}\mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator}{00109}}         \textcolor{keyword}{public} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator}{NetPeerEnumerator}} : IEnumerator<NetPeer>}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00110}00110         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00111}00111             \textcolor{keyword}{private} readonly \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} \_initialPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00112}00112             \textcolor{keyword}{private} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} \_p;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00113}00113 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00114}\mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_a4c4246e4cacf6c87fd1a819139278c31}{00114}}             \textcolor{keyword}{public} \mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_a4c4246e4cacf6c87fd1a819139278c31}{NetPeerEnumerator}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} p)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00115}00115             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00116}00116                 \_initialPeer = p;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00117}00117                 \_p = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00118}00118             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00119}00119 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00120}\mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_a743afb99c8f82586e8584ebef178c1f9}{00120}}             \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_a743afb99c8f82586e8584ebef178c1f9}{Dispose}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00121}00121             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00122}00122 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00123}00123             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00124}00124 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00125}\mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_abb6ac5298b6c6f274229684d05dcb00b}{00125}}             \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_abb6ac5298b6c6f274229684d05dcb00b}{MoveNext}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00126}00126             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00127}00127                 \_p = \_p == \textcolor{keyword}{null} ? \_initialPeer : \_p.NextPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00128}00128                 \textcolor{keywordflow}{return} \_p != \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00129}00129             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00130}00130 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00131}\mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_a97e45a140e31669a9cfae5d135ed5eea}{00131}}             \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_a97e45a140e31669a9cfae5d135ed5eea}{Reset}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00132}00132             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00133}00133                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} NotSupportedException();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00134}00134             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00135}00135 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00136}\mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_a6c3e7538ee4eac285ddc0f58e8847333}{00136}}             \textcolor{keyword}{public} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} \mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_a6c3e7538ee4eac285ddc0f58e8847333}{Current}}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00137}00137             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00138}00138                 \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_p; \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00139}00139             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00140}00140 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00141}\mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator_a59750219de2c0ec21804bfa4311d0d8c}{00141}}             \textcolor{keywordtype}{object} IEnumerator.Current}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00142}00142             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00143}00143                 \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_p; \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00144}00144             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00145}00145         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00146}00146 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00147}00147 \textcolor{preprocessor}{\#if DEBUG}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00148}00148         \textcolor{keyword}{private} \textcolor{keyword}{struct }IncomingData}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00149}00149         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00150}00150             \textcolor{keyword}{public} NetPacket Data;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00151}00151             \textcolor{keyword}{public} IPEndPoint EndPoint;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00152}00152             \textcolor{keyword}{public} DateTime TimeWhenGet;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00153}00153         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00154}00154         \textcolor{keyword}{private} readonly List<IncomingData> \_pingSimulationList = \textcolor{keyword}{new} List<IncomingData>(); }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00155}00155         \textcolor{keyword}{private} readonly Random \_randomGenerator = \textcolor{keyword}{new} Random();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00156}00156         \textcolor{keyword}{private} \textcolor{keyword}{const} \textcolor{keywordtype}{int} MinLatencyThreshold = 5;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00157}00157 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00158}00158 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00159}00159         \textcolor{keyword}{private} readonly NetSocket \_socket;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00160}00160         \textcolor{keyword}{private} Thread \_logicThread;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00161}00161         \textcolor{keyword}{private} \textcolor{keywordtype}{bool} \_manualMode;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00162}00162         \textcolor{keyword}{private} readonly AutoResetEvent \_updateTriggerEvent = \textcolor{keyword}{new} AutoResetEvent(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00163}00163 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00164}00164         \textcolor{keyword}{private} readonly Queue<NetEvent> \_netEventsQueue;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00165}00165         \textcolor{keyword}{private} NetEvent \_netEventPoolHead;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00166}00166         \textcolor{keyword}{private} readonly \mbox{\hyperlink{interface_flying_worm_console3_1_1_lite_net_lib_1_1_i_net_event_listener}{INetEventListener}} \_netEventListener;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00167}00167         \textcolor{keyword}{private} readonly \mbox{\hyperlink{interface_flying_worm_console3_1_1_lite_net_lib_1_1_i_delivery_event_listener}{IDeliveryEventListener}} \_deliveryEventListener;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00168}00168         \textcolor{keyword}{private} readonly \mbox{\hyperlink{interface_flying_worm_console3_1_1_lite_net_lib_1_1_i_ntp_event_listener}{INtpEventListener}} \_ntpEventListener;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00169}00169 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00170}00170         \textcolor{keyword}{private} readonly Dictionary<IPEndPoint, NetPeer> \_peersDict;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00171}00171         \textcolor{keyword}{private} readonly Dictionary<IPEndPoint, ConnectionRequest> \_requestsDict;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00172}00172         \textcolor{keyword}{private} readonly Dictionary<IPEndPoint, NtpRequest> \_ntpRequests;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00173}00173         \textcolor{keyword}{private} readonly ReaderWriterLockSlim \_peersLock;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00174}00174         \textcolor{keyword}{private} \textcolor{keyword}{volatile} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} \_headPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00175}00175         \textcolor{keyword}{private} \textcolor{keyword}{volatile} \textcolor{keywordtype}{int} \_connectedPeersCount;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00176}00176         \textcolor{keyword}{private} readonly List<NetPeer> \_connectedPeerListCache;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00177}00177         \textcolor{keyword}{private} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}}[] \_peersArray;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00178}00178         \textcolor{keyword}{private} readonly \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_layers_1_1_packet_layer_base}{PacketLayerBase}} \_extraPacketLayer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00179}00179         \textcolor{keyword}{private} \textcolor{keywordtype}{int} \_lastPeerId;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00180}00180         \textcolor{keyword}{private} readonly Queue<int> \_peerIds;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00181}00181         \textcolor{keyword}{private} \textcolor{keywordtype}{byte} \_channelsCount = 1;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00182}00182         \textcolor{keyword}{private} readonly \textcolor{keywordtype}{object} \_eventLock = \textcolor{keyword}{new} object();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00183}00183 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00184}00184         \textcolor{keyword}{internal} readonly NetPacketPool NetPacketPool;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00185}00185 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00186}00186         \textcolor{comment}{//config section}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00190}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac3cd0979aee0f45b8025fac86adc25aa}{00190}} \textcolor{comment}{}        \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac3cd0979aee0f45b8025fac86adc25aa}{UnconnectedMessagesEnabled}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00191}00191 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00195}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a397e59c61e93cc78bdcb97c75b218453}{00195}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a397e59c61e93cc78bdcb97c75b218453}{NatPunchEnabled}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00196}00196 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00200}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac326d6ee92340e7bac591636dddc721a}{00200}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac326d6ee92340e7bac591636dddc721a}{UpdateTime}} = 15;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00201}00201 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00205}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a8e0bb093dc563a36a67385dfdd2e4512}{00205}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a8e0bb093dc563a36a67385dfdd2e4512}{PingInterval}} = 1000;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00206}00206 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00211}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aae1bf843e997760ff16cfe322cb91c27}{00211}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aae1bf843e997760ff16cfe322cb91c27}{DisconnectTimeout}} = 5000;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00212}00212 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00216}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af57a43cf9ae9cdc22affe866594ca95c}{00216}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af57a43cf9ae9cdc22affe866594ca95c}{SimulatePacketLoss}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00217}00217 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00221}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a7f24e6c0ab0a0721642bc3a00105f3b9}{00221}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a7f24e6c0ab0a0721642bc3a00105f3b9}{SimulateLatency}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00222}00222 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00226}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a1ef0ab19b6b42ee6e3a7a255eb81db6b}{00226}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a1ef0ab19b6b42ee6e3a7a255eb81db6b}{SimulationPacketLossChance}} = 10;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00227}00227 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00231}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf6d750318980abb76c43cf6267b12ac}{00231}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf6d750318980abb76c43cf6267b12ac}{SimulationMinLatency}} = 30;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00232}00232 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00236}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af5d16d4c3a85828ab6ef1438d57526a0}{00236}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af5d16d4c3a85828ab6ef1438d57526a0}{SimulationMaxLatency}} = 100;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00237}00237 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00241}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3e317cbf48981a01a111a2d9f41c143a}{00241}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3e317cbf48981a01a111a2d9f41c143a}{UnsyncedEvents}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00242}00242 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00246}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a4ac60e49e2ebddeb6c0190e1768a3aac}{00246}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a4ac60e49e2ebddeb6c0190e1768a3aac}{UnsyncedReceiveEvent}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00247}00247 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00251}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a76c844e396b7554b47d09ed12be8c557}{00251}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a76c844e396b7554b47d09ed12be8c557}{UnsyncedDeliveryEvent}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00252}00252 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00256}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a1bea09fb70122d198287b7d4c68e1d1f}{00256}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a1bea09fb70122d198287b7d4c68e1d1f}{BroadcastReceiveEnabled}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00257}00257 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00261}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a31d81117b4f5d74bf58e5d1f798e3588}{00261}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a31d81117b4f5d74bf58e5d1f798e3588}{ReconnectDelay}} = 500;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00262}00262 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00266}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a8563e1bccacbd6dd5e3ebfee0bf899e7}{00266}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a8563e1bccacbd6dd5e3ebfee0bf899e7}{MaxConnectAttempts}} = 10;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00267}00267 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00271}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0e897f576496068367553c82f6cfd6b0}{00271}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0e897f576496068367553c82f6cfd6b0}{ReuseAddress}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00272}00272 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00276}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3276c556100a215fc4374cde19990f87}{00276}}         \textcolor{keyword}{public} readonly \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_statistics}{NetStatistics}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3276c556100a215fc4374cde19990f87}{Statistics}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00277}00277 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00281}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0a51ed73d87d16c970accbaa9ec1acbb}{00281}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0a51ed73d87d16c970accbaa9ec1acbb}{EnableStatistics}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00282}00282 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00286}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a6da2dd025578593b4671cabd214f99dd}{00286}}         \textcolor{keyword}{public} readonly \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_nat_punch_module}{NatPunchModule}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a6da2dd025578593b4671cabd214f99dd}{NatPunchModule}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00287}00287 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00291}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a5e9430655114b279cc2c4b4aeefca27b}{00291}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a5e9430655114b279cc2c4b4aeefca27b}{IsRunning}} \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_socket.IsRunning; \} \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00292}00292 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00296}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a73edf1f0486a5b58a0cdc3c98d017f22}{00296}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a73edf1f0486a5b58a0cdc3c98d017f22}{LocalPort}} \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_socket.LocalPort; \} \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00297}00297 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00301}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ab6d78aaa45ed2460f109d029c33f7f4c}{00301}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ab6d78aaa45ed2460f109d029c33f7f4c}{AutoRecycle}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00302}00302 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00306}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af35d3c8870bf5b20de91e22af447d4a7}{00306}}         \textcolor{keyword}{public} \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ac244d9e0651c11d2ccf5cf3d783bf5a4}{IPv6Mode}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af35d3c8870bf5b20de91e22af447d4a7}{IPv6Enabled}} = \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ac244d9e0651c11d2ccf5cf3d783bf5a4}{IPv6Mode}}.SeparateSocket;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00307}00307 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00311}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac44553f61417c3ca43fb2b9b991cd8d8}{00311}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac44553f61417c3ca43fb2b9b991cd8d8}{MtuOverride}} = 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00312}00312 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00316}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a482d56378d5290546fcc39eabcb6d845}{00316}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a482d56378d5290546fcc39eabcb6d845}{UseSafeMtu}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00317}00317 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00321}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_abc254535ed1bbdf0052cbd5a75b57229}{00321}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_abc254535ed1bbdf0052cbd5a75b57229}{FirstPeer}}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00322}00322         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00323}00323             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_headPeer; \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00324}00324         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00325}00325 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00329}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_abce36f972c22260470c8d8133ed0ef5d}{00329}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_abce36f972c22260470c8d8133ed0ef5d}{DisconnectOnUnreachable}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00330}00330 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00334}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af0ba172d6f483f4ef57404181544edbc}{00334}}         \textcolor{keyword}{public} \textcolor{keywordtype}{byte} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af0ba172d6f483f4ef57404181544edbc}{ChannelsCount}}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00335}00335         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00336}00336             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_channelsCount; \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00337}00337             \textcolor{keyword}{set}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00338}00338             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00339}00339                 \textcolor{keywordflow}{if} (value < 1 || value > 64)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00340}00340                     \textcolor{keywordflow}{throw} \textcolor{keyword}{new} ArgumentException(\textcolor{stringliteral}{"{}Channels count must be between 1 and 64"{}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00341}00341                 \_channelsCount = value;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00342}00342             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00343}00343         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00344}00344 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00348}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ad20da9efc3212b5b591d46da36432854}{00348}}         \textcolor{keyword}{public} List<NetPeer> \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ad20da9efc3212b5b591d46da36432854}{ConnectedPeerList}}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00349}00349         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00350}00350             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00351}00351             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00352}00352                 \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a60040ce324831a26ee658de98df48ccd}{GetPeersNonAlloc}}(\_connectedPeerListCache, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa64a4f414fc08c866495cef70473b83d}{ConnectionState}}.Connected);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00353}00353                 \textcolor{keywordflow}{return} \_connectedPeerListCache;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00354}00354             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00355}00355         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00356}00356 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00362}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a5e061c07857d7682e94c56ad875fdbce}{00362}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a5e061c07857d7682e94c56ad875fdbce}{GetPeerById}}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00363}00363         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00364}00364             \textcolor{keywordflow}{return} \_peersArray[id];}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00365}00365         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00366}00366 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00370}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ab983788f855cf14135e150359d60ba77}{00370}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ab983788f855cf14135e150359d60ba77}{ConnectedPeersCount}} \{ \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_connectedPeersCount; \} \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00371}00371 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00372}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a9af04e67e1cf8437a1d28b187461e126}{00372}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a9af04e67e1cf8437a1d28b187461e126}{ExtraPacketSizeForLayer}}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00373}00373         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00374}00374             \textcolor{keyword}{get} \{ \textcolor{keywordflow}{return} \_extraPacketLayer != \textcolor{keyword}{null} ? \_extraPacketLayer.ExtraPacketSizeForLayer : 0; \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00375}00375         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00376}00376 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00377}00377         \textcolor{keyword}{private} \textcolor{keywordtype}{bool} TryGetPeer(IPEndPoint endPoint, out \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00378}00378         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00379}00379             \_peersLock.EnterReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00380}00380             \textcolor{keywordtype}{bool} result = \_peersDict.TryGetValue(endPoint, out peer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00381}00381             \_peersLock.ExitReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00382}00382             \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00383}00383         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00384}00384 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00385}00385         \textcolor{keyword}{private} \textcolor{keywordtype}{void} AddPeer(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00386}00386         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00387}00387             \_peersLock.EnterWriteLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00388}00388             \textcolor{keywordflow}{if} (\_headPeer != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00389}00389             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00390}00390                 peer.NextPeer = \_headPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00391}00391                 \_headPeer.PrevPeer = peer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00392}00392             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00393}00393             \_headPeer = peer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00394}00394             \_peersDict.Add(peer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer_ae09aa92f7d44177dd6311cc43db4755c}{EndPoint}}, peer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00395}00395             \textcolor{keywordflow}{if} (peer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer_acf6563874ed477638e44fc77f3299f0f}{Id}} >= \_peersArray.Length)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00396}00396             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00397}00397                 \textcolor{keywordtype}{int} newSize = \_peersArray.Length * 2;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00398}00398                 \textcolor{keywordflow}{while} (peer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer_acf6563874ed477638e44fc77f3299f0f}{Id}} >= newSize)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00399}00399                     newSize *= 2;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00400}00400                 Array.Resize(ref \_peersArray, newSize);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00401}00401             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00402}00402             \_peersArray[peer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer_acf6563874ed477638e44fc77f3299f0f}{Id}}] = peer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00403}00403             \_peersLock.ExitWriteLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00404}00404         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00405}00405 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00406}00406         \textcolor{keyword}{private} \textcolor{keywordtype}{void} RemovePeer(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00407}00407         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00408}00408             \_peersLock.EnterWriteLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00409}00409             RemovePeerInternal(peer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00410}00410             \_peersLock.ExitWriteLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00411}00411         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00412}00412 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00413}00413         \textcolor{keyword}{private} \textcolor{keywordtype}{void} RemovePeerInternal(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00414}00414         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00415}00415             \textcolor{keywordflow}{if} (!\_peersDict.Remove(peer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer_ae09aa92f7d44177dd6311cc43db4755c}{EndPoint}}))}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00416}00416                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00417}00417             \textcolor{keywordflow}{if} (peer == \_headPeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00418}00418                 \_headPeer = peer.NextPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00419}00419 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00420}00420             \textcolor{keywordflow}{if} (peer.PrevPeer != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00421}00421                 peer.PrevPeer.NextPeer = peer.NextPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00422}00422             \textcolor{keywordflow}{if} (peer.NextPeer != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00423}00423                 peer.NextPeer.PrevPeer = peer.PrevPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00424}00424             peer.PrevPeer = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00425}00425 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00426}00426             \_peersArray[peer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer_acf6563874ed477638e44fc77f3299f0f}{Id}}] = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00427}00427             lock (\_peerIds)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00428}00428                 \_peerIds.Enqueue(peer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer_acf6563874ed477638e44fc77f3299f0f}{Id}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00429}00429         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00430}00430 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00436}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a7e8515410afb020d0fe56e89cae799ca}{00436}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a7e8515410afb020d0fe56e89cae799ca}{NetManager}}(\mbox{\hyperlink{interface_flying_worm_console3_1_1_lite_net_lib_1_1_i_net_event_listener}{INetEventListener}} listener, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_layers_1_1_packet_layer_base}{PacketLayerBase}} extraPacketLayer = \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00437}00437         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00438}00438             \_socket = \textcolor{keyword}{new} NetSocket(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00439}00439             \_netEventListener = listener;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00440}00440             \_deliveryEventListener = listener as \mbox{\hyperlink{interface_flying_worm_console3_1_1_lite_net_lib_1_1_i_delivery_event_listener}{IDeliveryEventListener}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00441}00441             \_ntpEventListener = listener as \mbox{\hyperlink{interface_flying_worm_console3_1_1_lite_net_lib_1_1_i_ntp_event_listener}{INtpEventListener}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00442}00442             \_netEventsQueue = \textcolor{keyword}{new} Queue<NetEvent>();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00443}00443             NetPacketPool = \textcolor{keyword}{new} NetPacketPool();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00444}00444             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_nat_punch_module}{NatPunchModule}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a6da2dd025578593b4671cabd214f99dd}{NatPunchModule}}(\_socket);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00445}00445             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3276c556100a215fc4374cde19990f87}{Statistics}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_statistics}{NetStatistics}}();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00446}00446             \_connectedPeerListCache = \textcolor{keyword}{new} List<NetPeer>();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00447}00447             \_peersDict = \textcolor{keyword}{new} Dictionary<IPEndPoint, NetPeer>(\textcolor{keyword}{new} IPEndPointComparer());}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00448}00448             \_requestsDict = \textcolor{keyword}{new} Dictionary<IPEndPoint, ConnectionRequest>(\textcolor{keyword}{new} IPEndPointComparer());}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00449}00449             \_ntpRequests = \textcolor{keyword}{new} Dictionary<IPEndPoint, NtpRequest>(\textcolor{keyword}{new} IPEndPointComparer());}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00450}00450             \_peersLock = \textcolor{keyword}{new} ReaderWriterLockSlim(LockRecursionPolicy.NoRecursion);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00451}00451             \_peerIds = \textcolor{keyword}{new} Queue<int>();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00452}00452             \_peersArray = \textcolor{keyword}{new} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}}[32];}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00453}00453             \_extraPacketLayer = extraPacketLayer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00454}00454         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00455}00455 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00456}00456         \textcolor{keyword}{internal} \textcolor{keywordtype}{void} ConnectionLatencyUpdated(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} fromPeer, \textcolor{keywordtype}{int} latency)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00457}00457         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00458}00458             CreateEvent(NetEvent.EType.ConnectionLatencyUpdated, fromPeer, latency: latency);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00459}00459         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00460}00460 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00461}00461         \textcolor{keyword}{internal} \textcolor{keywordtype}{void} MessageDelivered(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} fromPeer, \textcolor{keywordtype}{object} userData)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00462}00462         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00463}00463             \textcolor{keywordflow}{if}(\_deliveryEventListener != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00464}00464                 CreateEvent(NetEvent.EType.MessageDelivered, fromPeer, userData: userData);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00465}00465         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00466}00466 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00467}00467         \textcolor{keyword}{internal} \textcolor{keywordtype}{int} SendRawAndRecycle(NetPacket packet, IPEndPoint remoteEndPoint)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00468}00468         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00469}00469             var result = SendRaw(packet.RawData, 0, packet.Size, remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00470}00470             NetPacketPool.Recycle(packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00471}00471             \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00472}00472         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00473}00473 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00474}00474         \textcolor{keyword}{internal} \textcolor{keywordtype}{int} SendRaw(NetPacket packet, IPEndPoint remoteEndPoint)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00475}00475         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00476}00476             \textcolor{keywordflow}{return} SendRaw(packet.RawData, 0, packet.Size, remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00477}00477         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00478}00478 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00479}00479         \textcolor{keyword}{internal} \textcolor{keywordtype}{int} SendRaw(\textcolor{keywordtype}{byte}[] message, \textcolor{keywordtype}{int} start, \textcolor{keywordtype}{int} length, IPEndPoint remoteEndPoint)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00480}00480         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00481}00481             \textcolor{keywordflow}{if} (!\_socket.IsRunning)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00482}00482                 \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00483}00483 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00484}00484             SocketError errorCode = 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00485}00485             \textcolor{keywordtype}{int} result;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00486}00486             \textcolor{keywordflow}{if} (\_extraPacketLayer != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00487}00487             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00488}00488                 var expandedPacket = NetPacketPool.GetPacket(length + \_extraPacketLayer.ExtraPacketSizeForLayer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00489}00489                 Buffer.BlockCopy(message, start, expandedPacket.RawData, 0, length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00490}00490                 \textcolor{keywordtype}{int} newStart = 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00491}00491                 \_extraPacketLayer.ProcessOutBoundPacket(remoteEndPoint, ref expandedPacket.RawData, ref newStart, ref length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00492}00492                 result = \_socket.SendTo(expandedPacket.RawData, newStart, length, remoteEndPoint, ref errorCode);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00493}00493                 NetPacketPool.Recycle(expandedPacket);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00494}00494             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00495}00495             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00496}00496             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00497}00497                 result = \_socket.SendTo(message, start, length, remoteEndPoint, ref errorCode);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00498}00498             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00499}00499 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00500}00500             \textcolor{keywordflow}{switch} (errorCode)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00501}00501             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00502}00502                 \textcolor{keywordflow}{case} SocketError.MessageSize:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00503}00503                     NetDebug.Write(\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ad17855dae3da494fd4b87fa8b6e2db0c}{NetLogLevel}}.Trace, \textcolor{stringliteral}{"{}[SRD] 10040, datalen: \{0\}"{}}, length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00504}00504                     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00505}00505 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00506}00506                 \textcolor{keywordflow}{case} SocketError.HostUnreachable:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00507}00507                 \textcolor{keywordflow}{case} SocketError.NetworkUnreachable:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00508}00508                     \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} fromPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00509}00509                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_abce36f972c22260470c8d8133ed0ef5d}{DisconnectOnUnreachable}} \&\& TryGetPeer(remoteEndPoint, out fromPeer))}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00510}00510                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00511}00511                         DisconnectPeerForce(}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00512}00512                             fromPeer,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00513}00513                             errorCode == SocketError.HostUnreachable ? \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.HostUnreachable : \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.NetworkUnreachable,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00514}00514                             errorCode,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00515}00515                             \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00516}00516                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00517}00517                     CreateEvent(NetEvent.EType.Error, remoteEndPoint: remoteEndPoint, errorCode: errorCode);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00518}00518                     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00519}00519             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00520}00520             \textcolor{keywordflow}{if} (result <= 0)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00521}00521                 \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00522}00522 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00523}00523             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0a51ed73d87d16c970accbaa9ec1acbb}{EnableStatistics}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00524}00524             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00525}00525                 \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3276c556100a215fc4374cde19990f87}{Statistics}}.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_statistics_aafacce892e05390075dd4213dc08caee}{IncrementPacketsSent}}();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00526}00526                 \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3276c556100a215fc4374cde19990f87}{Statistics}}.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_statistics_a476f3666c8d76b0743c36ec29231ca9c}{AddBytesSent}}(length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00527}00527             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00528}00528 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00529}00529             \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00530}00530         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00531}00531 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00532}00532         \textcolor{keyword}{internal} \textcolor{keywordtype}{void} DisconnectPeerForce(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00533}00533             \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}} reason,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00534}00534             SocketError socketErrorCode,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00535}00535             NetPacket eventData)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00536}00536         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00537}00537             DisconnectPeer(peer, reason, socketErrorCode, \textcolor{keyword}{true}, \textcolor{keyword}{null}, 0, 0, eventData);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00538}00538         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00539}00539 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00540}00540         \textcolor{keyword}{private} \textcolor{keywordtype}{void} DisconnectPeer(}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00541}00541             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00542}00542             \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}} reason,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00543}00543             SocketError socketErrorCode, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00544}00544             \textcolor{keywordtype}{bool} force,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00545}00545             \textcolor{keywordtype}{byte}[] data,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00546}00546             \textcolor{keywordtype}{int} start,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00547}00547             \textcolor{keywordtype}{int} count,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00548}00548             NetPacket eventData)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00549}00549         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00550}00550             var shutdownResult = peer.Shutdown(data, start, count, force);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00551}00551             \textcolor{keywordflow}{if} (shutdownResult == ShutdownResult.None)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00552}00552                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00553}00553             \textcolor{keywordflow}{if}(shutdownResult == ShutdownResult.WasConnected)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00554}00554                 Interlocked.Decrement(ref \_connectedPeersCount);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00555}00555             Thread.MemoryBarrier();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00556}00556             CreateEvent(}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00557}00557                 NetEvent.EType.Disconnect,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00558}00558                 peer,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00559}00559                 errorCode: socketErrorCode,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00560}00560                 disconnectReason: reason,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00561}00561                 readerSource: eventData);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00562}00562         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00563}00563 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00564}00564         \textcolor{keyword}{private} \textcolor{keywordtype}{void} CreateEvent(}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00565}00565             NetEvent.EType type,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00566}00566             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer = \textcolor{keyword}{null},}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00567}00567             IPEndPoint remoteEndPoint = \textcolor{keyword}{null},}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00568}00568             SocketError errorCode = 0,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00569}00569             \textcolor{keywordtype}{int} latency = 0,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00570}00570             \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}} disconnectReason = \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.ConnectionFailed,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00571}00571             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request}{ConnectionRequest}} connectionRequest = \textcolor{keyword}{null},}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00572}00572             \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} deliveryMethod = \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}}.Unreliable,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00573}00573             NetPacket readerSource = \textcolor{keyword}{null},}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00574}00574             \textcolor{keywordtype}{object} userData = \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00575}00575         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00576}00576             NetEvent evt;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00577}00577             \textcolor{keywordtype}{bool} unsyncEvent = \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3e317cbf48981a01a111a2d9f41c143a}{UnsyncedEvents}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00578}00578             }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00579}00579             \textcolor{keywordflow}{if} (type == NetEvent.EType.Connect)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00580}00580                 Interlocked.Increment(ref \_connectedPeersCount);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00581}00581             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type == NetEvent.EType.MessageDelivered)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00582}00582                 unsyncEvent = \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a76c844e396b7554b47d09ed12be8c557}{UnsyncedDeliveryEvent}};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00583}00583 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00584}00584             lock(\_eventLock)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00585}00585             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00586}00586                 evt = \_netEventPoolHead;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00587}00587                 \textcolor{keywordflow}{if} (evt == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00588}00588                     evt = \textcolor{keyword}{new} NetEvent(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00589}00589                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00590}00590                     \_netEventPoolHead = evt.Next;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00591}00591             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00592}00592 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00593}00593             evt.Type = type;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00594}00594             evt.DataReader.SetSource(readerSource, readerSource == \textcolor{keyword}{null} ? 0 : readerSource.GetHeaderSize());}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00595}00595             evt.Peer = peer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00596}00596             evt.RemoteEndPoint = remoteEndPoint;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00597}00597             evt.Latency = latency;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00598}00598             evt.ErrorCode = errorCode;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00599}00599             evt.DisconnectReason = disconnectReason;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00600}00600             evt.ConnectionRequest = connectionRequest;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00601}00601             evt.DeliveryMethod = deliveryMethod;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00602}00602             evt.UserData = userData;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00603}00603 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00604}00604             \textcolor{keywordflow}{if} (unsyncEvent || \_manualMode)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00605}00605             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00606}00606                 ProcessEvent(evt);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00607}00607             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00608}00608             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00609}00609             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00610}00610                 lock (\_netEventsQueue)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00611}00611                     \_netEventsQueue.Enqueue(evt);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00612}00612             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00613}00613         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00614}00614 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00615}00615         \textcolor{keyword}{private} \textcolor{keywordtype}{void} ProcessEvent(NetEvent evt)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00616}00616         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00617}00617             NetDebug.Write(\textcolor{stringliteral}{"{}[NM] Processing event: "{}} + evt.Type);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00618}00618             \textcolor{keywordtype}{bool} emptyData = evt.DataReader.IsNull;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00619}00619             \textcolor{keywordflow}{switch} (evt.Type)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00620}00620             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00621}00621                 \textcolor{keywordflow}{case} NetEvent.EType.Connect:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00622}00622                     \_netEventListener.OnPeerConnected(evt.Peer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00623}00623                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00624}00624                 \textcolor{keywordflow}{case} NetEvent.EType.Disconnect:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00625}00625                     var info = \textcolor{keyword}{new} \mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_disconnect_info}{DisconnectInfo}}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00626}00626                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00627}00627                         Reason = evt.DisconnectReason,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00628}00628                         AdditionalData = evt.DataReader,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00629}00629                         SocketErrorCode = evt.ErrorCode}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00630}00630                     \};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00631}00631                     \_netEventListener.OnPeerDisconnected(evt.Peer, info);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00632}00632                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00633}00633                 \textcolor{keywordflow}{case} NetEvent.EType.Receive:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00634}00634                     \_netEventListener.OnNetworkReceive(evt.Peer, evt.DataReader, evt.DeliveryMethod);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00635}00635                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00636}00636                 \textcolor{keywordflow}{case} NetEvent.EType.ReceiveUnconnected:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00637}00637                     \_netEventListener.OnNetworkReceiveUnconnected(evt.RemoteEndPoint, evt.DataReader, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ae4d99df70a94589ae7dc78f7d6b97a30}{UnconnectedMessageType}}.BasicMessage);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00638}00638                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00639}00639                 \textcolor{keywordflow}{case} NetEvent.EType.Broadcast:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00640}00640                     \_netEventListener.OnNetworkReceiveUnconnected(evt.RemoteEndPoint, evt.DataReader, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ae4d99df70a94589ae7dc78f7d6b97a30}{UnconnectedMessageType}}.Broadcast);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00641}00641                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00642}00642                 \textcolor{keywordflow}{case} NetEvent.EType.Error:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00643}00643                     \_netEventListener.OnNetworkError(evt.RemoteEndPoint, evt.ErrorCode);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00644}00644                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00645}00645                 \textcolor{keywordflow}{case} NetEvent.EType.ConnectionLatencyUpdated:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00646}00646                     \_netEventListener.OnNetworkLatencyUpdate(evt.Peer, evt.Latency);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00647}00647                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00648}00648                 \textcolor{keywordflow}{case} NetEvent.EType.ConnectionRequest:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00649}00649                     \_netEventListener.OnConnectionRequest(evt.ConnectionRequest);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00650}00650                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00651}00651                 \textcolor{keywordflow}{case} NetEvent.EType.MessageDelivered:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00652}00652                     \_deliveryEventListener.OnMessageDelivered(evt.Peer, evt.UserData);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00653}00653                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00654}00654             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00655}00655             \textcolor{comment}{//Recycle if not message}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00656}00656             \textcolor{keywordflow}{if} (emptyData)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00657}00657                 RecycleEvent(evt);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00658}00658             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ab6d78aaa45ed2460f109d029c33f7f4c}{AutoRecycle}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00659}00659                 evt.DataReader.RecycleInternal();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00660}00660         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00661}00661 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00662}00662         \textcolor{keyword}{internal} \textcolor{keywordtype}{void} RecycleEvent(NetEvent evt)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00663}00663         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00664}00664             evt.Peer = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00665}00665             evt.ErrorCode = 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00666}00666             evt.RemoteEndPoint = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00667}00667             evt.ConnectionRequest = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00668}00668             lock(\_eventLock)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00669}00669             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00670}00670                 evt.Next = \_netEventPoolHead;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00671}00671                 \_netEventPoolHead = evt;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00672}00672             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00673}00673         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00674}00674 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00675}00675         \textcolor{comment}{//Update function}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00676}00676         \textcolor{keyword}{private} \textcolor{keywordtype}{void} UpdateLogic()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00677}00677         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00678}00678             var peersToRemove = \textcolor{keyword}{new} List<NetPeer>();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00679}00679             var stopwatch = \textcolor{keyword}{new} Stopwatch();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00680}00680             stopwatch.Start();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00681}00681 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00682}00682             \textcolor{keywordflow}{while} (\_socket.IsRunning)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00683}00683             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00684}00684                 ProcessDelayedPackets();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00685}00685                 \textcolor{keywordtype}{int} elapsed = (int)stopwatch.ElapsedMilliseconds;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00686}00686                 elapsed = elapsed <= 0 ? 1 : elapsed;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00687}00687                 stopwatch.Reset();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00688}00688                 stopwatch.Start();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00689}00689 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00690}00690                 \textcolor{keywordflow}{for} (var netPeer = \_headPeer; netPeer != \textcolor{keyword}{null}; netPeer = netPeer.NextPeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00691}00691                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00692}00692                     \textcolor{keywordflow}{if} (netPeer.ConnectionState == \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa64a4f414fc08c866495cef70473b83d}{ConnectionState}}.Disconnected \&\& netPeer.TimeSinceLastPacket > \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aae1bf843e997760ff16cfe322cb91c27}{DisconnectTimeout}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00693}00693                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00694}00694                         peersToRemove.Add(netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00695}00695                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00696}00696                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00697}00697                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00698}00698                         netPeer.Update(elapsed);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00699}00699                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00700}00700                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00701}00701                 \textcolor{keywordflow}{if} (peersToRemove.Count > 0)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00702}00702                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00703}00703                     \_peersLock.EnterWriteLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00704}00704                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < peersToRemove.Count; i++)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00705}00705                         RemovePeerInternal(peersToRemove[i]);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00706}00706                     \_peersLock.ExitWriteLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00707}00707                     peersToRemove.Clear();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00708}00708                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00709}00709                 ProcessNtpRequests(elapsed);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00710}00710 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00711}00711                 \textcolor{keywordtype}{int} sleepTime = \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac326d6ee92340e7bac591636dddc721a}{UpdateTime}} -\/ (int)stopwatch.ElapsedMilliseconds;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00712}00712                 if (sleepTime > 0)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00713}00713                     \_updateTriggerEvent.WaitOne(sleepTime);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00714}00714             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00715}00715             stopwatch.Stop();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00716}00716         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00717}00717 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00718}00718         [Conditional(\textcolor{stringliteral}{"{}DEBUG"{}})]}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00719}00719         \textcolor{keyword}{private} \textcolor{keywordtype}{void} ProcessDelayedPackets()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00720}00720         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00721}00721 \textcolor{preprocessor}{\#if DEBUG}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00722}00722             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a7f24e6c0ab0a0721642bc3a00105f3b9}{SimulateLatency}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00723}00723             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00724}00724                 var time = DateTime.UtcNow;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00725}00725                 lock (\_pingSimulationList)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00726}00726                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00727}00727                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \_pingSimulationList.Count; i++)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00728}00728                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00729}00729                         var incomingData = \_pingSimulationList[i];}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00730}00730                         \textcolor{keywordflow}{if} (incomingData.TimeWhenGet <= time)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00731}00731                         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00732}00732                             DataReceived(incomingData.Data, incomingData.EndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00733}00733                             \_pingSimulationList.RemoveAt(i);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00734}00734                             i-\/-\/;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00735}00735                         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00736}00736                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00737}00737                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00738}00738             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00739}00739 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00740}00740         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00741}00741 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00742}00742         \textcolor{keyword}{private} \textcolor{keywordtype}{void} ProcessNtpRequests(\textcolor{keywordtype}{int} elapsedMilliseconds)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00743}00743         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00744}00744             List<IPEndPoint> requestsToRemove = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00745}00745             \textcolor{keywordflow}{foreach} (var ntpRequest \textcolor{keywordflow}{in} \_ntpRequests)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00746}00746             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00747}00747                 ntpRequest.Value.Send(\_socket, elapsedMilliseconds);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00748}00748                 \textcolor{keywordflow}{if}(ntpRequest.Value.NeedToKill)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00749}00749                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00750}00750                     \textcolor{keywordflow}{if} (requestsToRemove == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00751}00751                         requestsToRemove = \textcolor{keyword}{new} List<IPEndPoint>();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00752}00752                     requestsToRemove.Add(ntpRequest.Key);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00753}00753                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00754}00754             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00755}00755 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00756}00756             \textcolor{keywordflow}{if} (requestsToRemove != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00757}00757             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00758}00758                 \textcolor{keywordflow}{foreach} (var ipEndPoint \textcolor{keywordflow}{in} requestsToRemove)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00759}00759                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00760}00760                     \_ntpRequests.Remove(ipEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00761}00761                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00762}00762             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00763}00763         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00764}00764 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00769}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac7f5a7ec175986311a4fb2e3ee4e7a8c}{00769}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac7f5a7ec175986311a4fb2e3ee4e7a8c}{ManualUpdate}}(\textcolor{keywordtype}{int} elapsedMilliseconds)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00770}00770         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00771}00771             \textcolor{keywordflow}{if} (!\_manualMode)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00772}00772                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00773}00773 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00774}00774             \textcolor{keywordflow}{for} (var netPeer = \_headPeer; netPeer != \textcolor{keyword}{null}; netPeer = netPeer.NextPeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00775}00775             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00776}00776                 \textcolor{keywordflow}{if} (netPeer.ConnectionState == \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa64a4f414fc08c866495cef70473b83d}{ConnectionState}}.Disconnected \&\& netPeer.TimeSinceLastPacket > \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aae1bf843e997760ff16cfe322cb91c27}{DisconnectTimeout}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00777}00777                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00778}00778                     RemovePeerInternal(netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00779}00779                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00780}00780                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00781}00781                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00782}00782                     netPeer.Update(elapsedMilliseconds);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00783}00783                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00784}00784             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00785}00785             ProcessNtpRequests(elapsedMilliseconds);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00786}00786         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00787}00787 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00792}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac1a832adcf48d1f462431d4ee742fa11}{00792}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac1a832adcf48d1f462431d4ee742fa11}{ManualReceive}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00793}00793         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00794}00794             \textcolor{keywordflow}{if}(!\_manualMode)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00795}00795                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00796}00796                 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00797}00797             \_socket.ManualReceive();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00798}00798             ProcessDelayedPackets();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00799}00799         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00800}00800 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00801}00801         \textcolor{keyword}{internal} \textcolor{keywordtype}{void} OnMessageReceived(NetPacket packet, SocketError errorCode, IPEndPoint remoteEndPoint)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00802}00802         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00803}00803             \textcolor{keywordflow}{if} (errorCode != 0)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00804}00804             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00805}00805                 CreateEvent(NetEvent.EType.Error, errorCode: errorCode);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00806}00806                 NetDebug.WriteError(\textcolor{stringliteral}{"{}[NM] Receive error: \{0\}"{}}, errorCode);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00807}00807                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00808}00808             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00809}00809 \textcolor{preprocessor}{\#if DEBUG}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00810}00810             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af57a43cf9ae9cdc22affe866594ca95c}{SimulatePacketLoss}} \&\& \_randomGenerator.NextDouble() * 100 < \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a1ef0ab19b6b42ee6e3a7a255eb81db6b}{SimulationPacketLossChance}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00811}00811             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00812}00812                 \textcolor{comment}{//drop packet}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00813}00813                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00814}00814             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00815}00815             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a7f24e6c0ab0a0721642bc3a00105f3b9}{SimulateLatency}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00816}00816             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00817}00817                 \textcolor{keywordtype}{int} latency = \_randomGenerator.Next(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf6d750318980abb76c43cf6267b12ac}{SimulationMinLatency}}, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af5d16d4c3a85828ab6ef1438d57526a0}{SimulationMaxLatency}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00818}00818                 \textcolor{keywordflow}{if} (latency > MinLatencyThreshold)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00819}00819                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00820}00820                     lock (\_pingSimulationList)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00821}00821                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00822}00822                         \_pingSimulationList.Add(\textcolor{keyword}{new} IncomingData}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00823}00823                         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00824}00824                             Data = packet,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00825}00825                             EndPoint = remoteEndPoint,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00826}00826                             TimeWhenGet = DateTime.UtcNow.AddMilliseconds(latency)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00827}00827                         \});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00828}00828                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00829}00829                     \textcolor{comment}{//hold packet}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00830}00830                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00831}00831                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00832}00832             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00833}00833 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00834}00834             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00835}00835             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00836}00836                 \textcolor{comment}{//ProcessEvents}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00837}00837                 DataReceived(packet, remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00838}00838             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00839}00839             \textcolor{keywordflow}{catch}(Exception e)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00840}00840             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00841}00841                 \textcolor{comment}{//protects socket receive thread}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00842}00842                 NetDebug.WriteError(\textcolor{stringliteral}{"{}[NM] SocketReceiveThread error: "{}} + e );}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00843}00843             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00844}00844         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00845}00845 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00846}00846         \textcolor{keyword}{internal} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} OnConnectionSolved(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request}{ConnectionRequest}} request, \textcolor{keywordtype}{byte}[] rejectData, \textcolor{keywordtype}{int} start, \textcolor{keywordtype}{int} length)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00847}00847         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00848}00848             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} netPeer = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00849}00849 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00850}00850             \textcolor{keywordflow}{if} (request.Result == ConnectionRequestResult.RejectForce)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00851}00851             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00852}00852                 NetDebug.Write(\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ad17855dae3da494fd4b87fa8b6e2db0c}{NetLogLevel}}.Trace, \textcolor{stringliteral}{"{}[NM] Peer connect reject force."{}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00853}00853                 \textcolor{keywordflow}{if} (rejectData != \textcolor{keyword}{null} \&\& length > 0)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00854}00854                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00855}00855                     var shutdownPacket = NetPacketPool.GetWithProperty(PacketProperty.Disconnect, length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00856}00856                     shutdownPacket.ConnectionNumber = request.ConnectionNumber;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00857}00857                     FastBitConverter.GetBytes(shutdownPacket.RawData, 1, request.ConnectionTime);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00858}00858                     \textcolor{keywordflow}{if} (shutdownPacket.Size >= NetConstants.PossibleMtu[0])}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00859}00859                         NetDebug.WriteError(\textcolor{stringliteral}{"{}[Peer] Disconnect additional data size more than MTU!"{}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00860}00860                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00861}00861                         Buffer.BlockCopy(rejectData, start, shutdownPacket.RawData, 9, length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00862}00862                     SendRawAndRecycle(shutdownPacket, request.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request_a35ce40df31d24257877387f2875f0770}{RemoteEndPoint}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00863}00863                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00864}00864             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00865}00865             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00866}00866             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00867}00867                 \_peersLock.EnterUpgradeableReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00868}00868                 \textcolor{keywordflow}{if} (\_peersDict.TryGetValue(request.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request_a35ce40df31d24257877387f2875f0770}{RemoteEndPoint}}, out netPeer))}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00869}00869                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00870}00870                     \textcolor{comment}{//already have peer}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00871}00871                     \_peersLock.ExitUpgradeableReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00872}00872                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00873}00873                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (request.Result == ConnectionRequestResult.Reject)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00874}00874                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00875}00875                     netPeer = \textcolor{keyword}{new} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}}(\textcolor{keyword}{this}, request.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request_a35ce40df31d24257877387f2875f0770}{RemoteEndPoint}}, GetNextPeerId());}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00876}00876                     netPeer.Reject(request.ConnectionTime, request.ConnectionNumber, rejectData, start, length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00877}00877                     AddPeer(netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00878}00878                     \_peersLock.ExitUpgradeableReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00879}00879                     NetDebug.Write(\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ad17855dae3da494fd4b87fa8b6e2db0c}{NetLogLevel}}.Trace, \textcolor{stringliteral}{"{}[NM] Peer connect reject."{}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00880}00880                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00881}00881                 \textcolor{keywordflow}{else} \textcolor{comment}{//Accept}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00882}00882                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00883}00883                     netPeer = \textcolor{keyword}{new} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}}(\textcolor{keyword}{this}, request.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request_a35ce40df31d24257877387f2875f0770}{RemoteEndPoint}}, GetNextPeerId(), request.ConnectionTime, request.ConnectionNumber);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00884}00884                     AddPeer(netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00885}00885                     \_peersLock.ExitUpgradeableReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00886}00886                     CreateEvent(NetEvent.EType.Connect, netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00887}00887                     NetDebug.Write(\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ad17855dae3da494fd4b87fa8b6e2db0c}{NetLogLevel}}.Trace, \textcolor{stringliteral}{"{}[NM] Received peer connection Id: \{0\}, EP: \{1\}"{}},}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00888}00888                         netPeer.ConnectTime, netPeer.EndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00889}00889                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00890}00890             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00891}00891 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00892}00892             lock(\_requestsDict)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00893}00893                 \_requestsDict.Remove(request.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request_a35ce40df31d24257877387f2875f0770}{RemoteEndPoint}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00894}00894 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00895}00895             \textcolor{keywordflow}{return} netPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00896}00896         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00897}00897 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00898}00898         \textcolor{keyword}{private} \textcolor{keywordtype}{int} GetNextPeerId()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00899}00899         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00900}00900             lock (\_peerIds)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00901}00901                 \textcolor{keywordflow}{return} \_peerIds.Count == 0 ? \_lastPeerId++ : \_peerIds.Dequeue();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00902}00902         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00903}00903 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00904}00904         \textcolor{keyword}{private} \textcolor{keywordtype}{void} ProcessConnectRequest(}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00905}00905             IPEndPoint remoteEndPoint, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00906}00906             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} netPeer, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00907}00907             NetConnectRequestPacket connRequest)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00908}00908         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00909}00909             \textcolor{keywordtype}{byte} connectionNumber = connRequest.ConnectionNumber;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00910}00910             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request}{ConnectionRequest}} req;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00911}00911 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00912}00912             \textcolor{comment}{//if we have peer}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00913}00913             \textcolor{keywordflow}{if} (netPeer != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00914}00914             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00915}00915                 var processResult = netPeer.ProcessConnectRequest(connRequest);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00916}00916                 NetDebug.Write(\textcolor{stringliteral}{"{}ConnectRequest LastId: \{0\}, NewId: \{1\}, EP: \{2\}, Result: \{3\}"{}}, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00917}00917                     netPeer.ConnectTime, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00918}00918                     connRequest.ConnectionTime, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00919}00919                     remoteEndPoint,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00920}00920                     processResult);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00921}00921 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00922}00922                 \textcolor{keywordflow}{switch} (processResult)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00923}00923                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00924}00924                     \textcolor{keywordflow}{case} ConnectRequestResult.Reconnection:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00925}00925                         DisconnectPeerForce(netPeer, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.Reconnect, 0, \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00926}00926                         RemovePeer(netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00927}00927                         \textcolor{comment}{//go to new connection}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00928}00928                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00929}00929                     \textcolor{keywordflow}{case} ConnectRequestResult.NewConnection:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00930}00930                         RemovePeer(netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00931}00931                         \textcolor{comment}{//go to new connection}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00932}00932                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00933}00933                     \textcolor{keywordflow}{case} ConnectRequestResult.P2PLose:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00934}00934                         DisconnectPeerForce(netPeer, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.PeerToPeerConnection, 0, \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00935}00935                         RemovePeer(netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00936}00936                         \textcolor{comment}{//go to new connection}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00937}00937                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00938}00938                     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00939}00939                         \textcolor{comment}{//no operations needed}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00940}00940                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00941}00941                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00942}00942                 \textcolor{comment}{//ConnectRequestResult.NewConnection}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00943}00943                 \textcolor{comment}{//Set next connection number}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00944}00944                 \textcolor{keywordflow}{if}(processResult != ConnectRequestResult.P2PLose)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00945}00945                     connectionNumber = (byte)((netPeer.ConnectionNum + 1) \% NetConstants.MaxConnectionNumber);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00946}00946                 \textcolor{comment}{//To reconnect peer}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00947}00947             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00948}00948             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00949}00949             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00950}00950                 NetDebug.Write(\textcolor{stringliteral}{"{}ConnectRequest Id: \{0\}, EP: \{1\}"{}}, connRequest.ConnectionTime, remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00951}00951             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00952}00952 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00953}00953             lock (\_requestsDict)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00954}00954             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00955}00955                 \textcolor{keywordflow}{if} (\_requestsDict.TryGetValue(remoteEndPoint, out req))}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00956}00956                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00957}00957                     req.UpdateRequest(connRequest);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00958}00958                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00959}00959                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00960}00960                 req = \textcolor{keyword}{new} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_connection_request}{ConnectionRequest}}(}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00961}00961                     connRequest.ConnectionTime,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00962}00962                     connectionNumber,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00963}00963                     connRequest.Data,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00964}00964                     remoteEndPoint,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00965}00965                     \textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00966}00966                 \_requestsDict.Add(remoteEndPoint, req);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00967}00967             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00968}00968             NetDebug.Write(\textcolor{stringliteral}{"{}[NM] Creating request event: "{}} + connRequest.ConnectionTime);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00969}00969             CreateEvent(NetEvent.EType.ConnectionRequest, connectionRequest: req);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00970}00970         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00971}00971 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00972}00972         \textcolor{keyword}{private} \textcolor{keywordtype}{void} DataReceived(NetPacket packet, IPEndPoint remoteEndPoint)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00973}00973         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00974}00974             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0a51ed73d87d16c970accbaa9ec1acbb}{EnableStatistics}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00975}00975             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00976}00976                 \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3276c556100a215fc4374cde19990f87}{Statistics}}.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_statistics_abd3c81ca6e5dc53019296531e32adc78}{IncrementPacketsReceived}}();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00977}00977                 \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3276c556100a215fc4374cde19990f87}{Statistics}}.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_statistics_a5ed99e9499ac17fe9fb13fb6c753a570}{AddBytesReceived}}(packet.Size);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00978}00978             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00979}00979 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00980}00980             \textcolor{keywordflow}{if} (\_ntpRequests.Count > 0)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00981}00981             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00982}00982                 NtpRequest request;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00983}00983                 \textcolor{keywordflow}{if} (\_ntpRequests.TryGetValue(remoteEndPoint, out request))}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00984}00984                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00985}00985                     \textcolor{keywordflow}{if} (packet.Size < 48)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00986}00986                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00987}00987                         NetDebug.Write(\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ad17855dae3da494fd4b87fa8b6e2db0c}{NetLogLevel}}.Trace, \textcolor{stringliteral}{"{}NTP response too short: \{\}"{}}, packet.Size);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00988}00988                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00989}00989                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00990}00990 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00991}00991                     \textcolor{keywordtype}{byte}[] copiedData = \textcolor{keyword}{new} \textcolor{keywordtype}{byte}[packet.Size];}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00992}00992                     Buffer.BlockCopy(packet.RawData, 0, copiedData, 0, packet.Size);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00993}00993                     \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_ntp_packet}{NtpPacket}} ntpPacket = \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_ntp_packet}{NtpPacket}}.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_ntp_packet_ac66538865a12e98bbe62123a245f869d}{FromServerResponse}}(copiedData, DateTime.UtcNow);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00994}00994                     \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00995}00995                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00996}00996                         ntpPacket.ValidateReply();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00997}00997                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00998}00998                     \textcolor{keywordflow}{catch} (InvalidOperationException ex)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l00999}00999                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01000}01000                         NetDebug.Write(\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_ad17855dae3da494fd4b87fa8b6e2db0c}{NetLogLevel}}.Trace, \textcolor{stringliteral}{"{}NTP response error: \{\}"{}}, ex.Message);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01001}01001                         ntpPacket = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01002}01002                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01003}01003 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01004}01004                     \textcolor{keywordflow}{if} (ntpPacket != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01005}01005                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01006}01006                         \_ntpRequests.Remove(remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01007}01007                         \textcolor{keywordflow}{if}(\_ntpEventListener != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01008}01008                             \_ntpEventListener.OnNtpResponse(ntpPacket);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01009}01009                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01010}01010                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01011}01011                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01012}01012             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01013}01013 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01014}01014             \textcolor{keywordflow}{if} (\_extraPacketLayer != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01015}01015             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01016}01016                 \textcolor{keywordtype}{int} start = 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01017}01017                 \_extraPacketLayer.ProcessInboundPacket(remoteEndPoint, ref packet.RawData, ref start, ref packet.Size);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01018}01018                 \textcolor{keywordflow}{if} (packet.Size == 0)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01019}01019                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01020}01020             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01021}01021 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01022}01022             \textcolor{keywordflow}{if} (!packet.Verify())}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01023}01023             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01024}01024                 NetDebug.WriteError(\textcolor{stringliteral}{"{}[NM] DataReceived: bad!"{}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01025}01025                 NetPacketPool.Recycle(packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01026}01026                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01027}01027             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01028}01028 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01029}01029             \textcolor{keywordflow}{switch} (packet.Property)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01030}01030             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01031}01031                 \textcolor{comment}{//special case connect request}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01032}01032                 \textcolor{keywordflow}{case} PacketProperty.ConnectRequest:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01033}01033                     \textcolor{keywordflow}{if} (NetConnectRequestPacket.GetProtocolId(packet) != NetConstants.ProtocolId)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01034}01034                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01035}01035                         SendRawAndRecycle(NetPacketPool.GetWithProperty(PacketProperty.InvalidProtocol), remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01036}01036                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01037}01037                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01038}01038                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01039}01039                 \textcolor{comment}{//unconnected messages}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01040}01040                 \textcolor{keywordflow}{case} PacketProperty.Broadcast:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01041}01041                     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a1bea09fb70122d198287b7d4c68e1d1f}{BroadcastReceiveEnabled}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01042}01042                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01043}01043                     CreateEvent(NetEvent.EType.Broadcast, remoteEndPoint: remoteEndPoint, readerSource: packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01044}01044                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01045}01045                 \textcolor{keywordflow}{case} PacketProperty.UnconnectedMessage:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01046}01046                     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac3cd0979aee0f45b8025fac86adc25aa}{UnconnectedMessagesEnabled}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01047}01047                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01048}01048                     CreateEvent(NetEvent.EType.ReceiveUnconnected, remoteEndPoint: remoteEndPoint, readerSource: packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01049}01049                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01050}01050                 \textcolor{keywordflow}{case} PacketProperty.NatMessage:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01051}01051                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a397e59c61e93cc78bdcb97c75b218453}{NatPunchEnabled}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01052}01052                         \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_nat_punch_module}{NatPunchModule}}.ProcessMessage(remoteEndPoint, packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01053}01053                     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01054}01054             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01055}01055 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01056}01056             \textcolor{comment}{//Check normal packets}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01057}01057             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} netPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01058}01058             \_peersLock.EnterReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01059}01059             \textcolor{keywordtype}{bool} peerFound = \_peersDict.TryGetValue(remoteEndPoint, out netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01060}01060             \_peersLock.ExitReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01061}01061             }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01062}01062             \textcolor{keywordflow}{switch} (packet.Property)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01063}01063             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01064}01064                 \textcolor{keywordflow}{case} PacketProperty.ConnectRequest:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01065}01065                     var connRequest = NetConnectRequestPacket.FromData(packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01066}01066                     \textcolor{keywordflow}{if} (connRequest != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01067}01067                         ProcessConnectRequest(remoteEndPoint, netPeer, connRequest);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01068}01068                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01069}01069                 \textcolor{keywordflow}{case} PacketProperty.PeerNotFound:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01070}01070                     \textcolor{keywordflow}{if} (peerFound)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01071}01071                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01072}01072                         \textcolor{keywordflow}{if} (netPeer.ConnectionState != \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa64a4f414fc08c866495cef70473b83d}{ConnectionState}}.Connected)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01073}01073                             \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01074}01074                         \textcolor{keywordflow}{if} (packet.Size == 1) }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01075}01075                         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01076}01076                             \textcolor{comment}{//first reply}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01077}01077                             var p = NetPacketPool.GetWithProperty(PacketProperty.PeerNotFound, 9);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01078}01078                             p.RawData[1] = 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01079}01079                             FastBitConverter.GetBytes(p.RawData, 2, netPeer.ConnectTime);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01080}01080                             SendRawAndRecycle(p, remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01081}01081                             NetDebug.Write(\textcolor{stringliteral}{"{}PeerNotFound sending connectTime: \{0\}"{}}, netPeer.ConnectTime);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01082}01082                         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01083}01083                         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (packet.Size == 10 \&\& packet.RawData[1] == 1 \&\& BitConverter.ToInt64(packet.RawData, 2) == netPeer.ConnectTime) }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01084}01084                         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01085}01085                             \textcolor{comment}{//second reply}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01086}01086                             NetDebug.Write(\textcolor{stringliteral}{"{}PeerNotFound received our connectTime: \{0\}"{}}, netPeer.ConnectTime);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01087}01087                             DisconnectPeerForce(netPeer, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.RemoteConnectionClose, 0, \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01088}01088                         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01089}01089                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01090}01090                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (packet.Size == 10 \&\& packet.RawData[1] == 0)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01091}01091                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01092}01092                         \textcolor{comment}{//send reply back}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01093}01093                         packet.RawData[1] = 1;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01094}01094                         SendRawAndRecycle(packet, remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01095}01095                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01096}01096                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01097}01097                 \textcolor{keywordflow}{case} PacketProperty.InvalidProtocol:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01098}01098                     \textcolor{keywordflow}{if} (peerFound \&\& netPeer.ConnectionState == \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa64a4f414fc08c866495cef70473b83d}{ConnectionState}}.Outgoing)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01099}01099                         DisconnectPeerForce(netPeer, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.InvalidProtocol, 0, \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01100}01100                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01101}01101                 \textcolor{keywordflow}{case} PacketProperty.Disconnect:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01102}01102                     \textcolor{keywordflow}{if} (peerFound)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01103}01103                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01104}01104                         var disconnectResult = netPeer.ProcessDisconnect(packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01105}01105                         \textcolor{keywordflow}{if} (disconnectResult == DisconnectResult.None)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01106}01106                         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01107}01107                             NetPacketPool.Recycle(packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01108}01108                             \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01109}01109                         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01110}01110                         DisconnectPeerForce(}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01111}01111                             netPeer, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01112}01112                             disconnectResult == DisconnectResult.Disconnect}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01113}01113                             ? \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.RemoteConnectionClose}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01114}01114                             : \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.ConnectionRejected,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01115}01115                             0, packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01116}01116                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01117}01117                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01118}01118                     \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01119}01119                         NetPacketPool.Recycle(packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01120}01120                     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01121}01121                     \textcolor{comment}{//Send shutdown}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01122}01122                     SendRawAndRecycle(NetPacketPool.GetWithProperty(PacketProperty.ShutdownOk), remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01123}01123                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01124}01124                 \textcolor{keywordflow}{case} PacketProperty.ConnectAccept:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01125}01125                     \textcolor{keywordflow}{if} (!peerFound)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01126}01126                         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01127}01127                     var connAccept = NetConnectAcceptPacket.FromData(packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01128}01128                     \textcolor{keywordflow}{if} (connAccept != \textcolor{keyword}{null} \&\& netPeer.ProcessConnectAccept(connAccept))}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01129}01129                         CreateEvent(NetEvent.EType.Connect, netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01130}01130                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01131}01131                 \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01132}01132                     \textcolor{keywordflow}{if}(peerFound)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01133}01133                         netPeer.ProcessPacket(packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01134}01134                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01135}01135                         SendRawAndRecycle(NetPacketPool.GetWithProperty(PacketProperty.PeerNotFound), remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01136}01136                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01137}01137             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01138}01138         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01139}01139 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01140}01140         \textcolor{keyword}{internal} \textcolor{keywordtype}{void} CreateReceiveEvent(NetPacket packet, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} method, \textcolor{keywordtype}{int} headerSize, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} fromPeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01141}01141         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01142}01142             NetEvent evt;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01143}01143             lock (\_eventLock)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01144}01144             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01145}01145                 evt = \_netEventPoolHead;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01146}01146                 \textcolor{keywordflow}{if} (evt == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01147}01147                     evt = \textcolor{keyword}{new} NetEvent(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01148}01148                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01149}01149                     \_netEventPoolHead = evt.Next;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01150}01150             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01151}01151             evt.Type = NetEvent.EType.Receive;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01152}01152             evt.DataReader.SetSource(packet, headerSize);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01153}01153             evt.Peer = fromPeer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01154}01154             evt.DeliveryMethod = method;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01155}01155             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3e317cbf48981a01a111a2d9f41c143a}{UnsyncedEvents}} || \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a4ac60e49e2ebddeb6c0190e1768a3aac}{UnsyncedReceiveEvent}} || \_manualMode)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01156}01156             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01157}01157                 ProcessEvent(evt);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01158}01158             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01159}01159             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01160}01160             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01161}01161                 lock (\_netEventsQueue)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01162}01162                     \_netEventsQueue.Enqueue(evt);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01163}01163             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01164}01164         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01165}01165 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01171}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{01171}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}} writer, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01172}01172         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01173}01173             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a5110c012d61a2d205eb3c61835acb278}{Data}}, 0, writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a7b8cf217eff327183d292a07f06bea23}{Length}}, options);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01174}01174         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01175}01175 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01181}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a2f32c2049fb172e4dc8fdc17e21ab063}{01181}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a2f32c2049fb172e4dc8fdc17e21ab063}{SendToAll}}(\textcolor{keywordtype}{byte}[] data, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01182}01182         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01183}01183             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(data, 0, data.Length, options);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01184}01184         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01185}01185 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01193}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a1722d65c1b5185fe2931d6c775478d3e}{01193}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a1722d65c1b5185fe2931d6c775478d3e}{SendToAll}}(\textcolor{keywordtype}{byte}[] data, \textcolor{keywordtype}{int} start, \textcolor{keywordtype}{int} length, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01194}01194         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01195}01195             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(data, start, length, 0, options);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01196}01196         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01197}01197 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01204}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a648010a93401038f7f1bfbfca84ed063}{01204}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a648010a93401038f7f1bfbfca84ed063}{SendToAll}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}} writer, \textcolor{keywordtype}{byte} channelNumber, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01205}01205         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01206}01206             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a5110c012d61a2d205eb3c61835acb278}{Data}}, 0, writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a7b8cf217eff327183d292a07f06bea23}{Length}}, channelNumber, options);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01207}01207         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01208}01208 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01215}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a1b4688c9cb26b24806dc124e01a0b44e}{01215}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a1b4688c9cb26b24806dc124e01a0b44e}{SendToAll}}(\textcolor{keywordtype}{byte}[] data, \textcolor{keywordtype}{byte} channelNumber, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01216}01216         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01217}01217             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(data, 0, data.Length, channelNumber, options);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01218}01218         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01219}01219 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01228}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ae4512254753099ab1e9caca2c5b31aaf}{01228}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ae4512254753099ab1e9caca2c5b31aaf}{SendToAll}}(\textcolor{keywordtype}{byte}[] data, \textcolor{keywordtype}{int} start, \textcolor{keywordtype}{int} length, \textcolor{keywordtype}{byte} channelNumber, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01229}01229         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01230}01230             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01231}01231             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01232}01232                 \_peersLock.EnterReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01233}01233                 \textcolor{keywordflow}{for} (var netPeer = \_headPeer; netPeer != \textcolor{keyword}{null}; netPeer = netPeer.NextPeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01234}01234                     netPeer.Send(data, start, length, channelNumber, options);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01235}01235             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01236}01236             \textcolor{keywordflow}{finally}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01237}01237             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01238}01238                 \_peersLock.ExitReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01239}01239             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01240}01240         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01241}01241 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01248}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_acfdd7bed9f7f54f8de2a68c9b2993d8e}{01248}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_acfdd7bed9f7f54f8de2a68c9b2993d8e}{SendToAll}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}} writer, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} excludePeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01249}01249         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01250}01250             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a5110c012d61a2d205eb3c61835acb278}{Data}}, 0, writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a7b8cf217eff327183d292a07f06bea23}{Length}}, 0, options, excludePeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01251}01251         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01252}01252 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01259}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a5411a5534017b1054321b9de81f692bf}{01259}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a5411a5534017b1054321b9de81f692bf}{SendToAll}}(\textcolor{keywordtype}{byte}[] data, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} excludePeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01260}01260         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01261}01261             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(data, 0, data.Length, 0, options, excludePeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01262}01262         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01263}01263 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01272}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aa1d2f131303a55855a2a99627f7d0e5a}{01272}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aa1d2f131303a55855a2a99627f7d0e5a}{SendToAll}}(\textcolor{keywordtype}{byte}[] data, \textcolor{keywordtype}{int} start, \textcolor{keywordtype}{int} length, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} excludePeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01273}01273         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01274}01274             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(data, start, length, 0, options, excludePeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01275}01275         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01276}01276 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01284}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a19343d1507dd1135fa8cb52bfc42488f}{01284}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a19343d1507dd1135fa8cb52bfc42488f}{SendToAll}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}} writer, \textcolor{keywordtype}{byte} channelNumber, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} excludePeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01285}01285         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01286}01286             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a5110c012d61a2d205eb3c61835acb278}{Data}}, 0, writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a7b8cf217eff327183d292a07f06bea23}{Length}}, channelNumber, options, excludePeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01287}01287         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01288}01288 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01296}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aa5fa732a4e1156e16eea9285f7422554}{01296}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aa5fa732a4e1156e16eea9285f7422554}{SendToAll}}(\textcolor{keywordtype}{byte}[] data, \textcolor{keywordtype}{byte} channelNumber, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} excludePeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01297}01297         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01298}01298             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaf81abcbfbdc36da97a642297b4c047d}{SendToAll}}(data, 0, data.Length, channelNumber, options, excludePeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01299}01299         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01300}01300 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01301}01301 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01311}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ace7585a343ef0e18f16b7f2eab018566}{01311}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ace7585a343ef0e18f16b7f2eab018566}{SendToAll}}(\textcolor{keywordtype}{byte}[] data, \textcolor{keywordtype}{int} start, \textcolor{keywordtype}{int} length, \textcolor{keywordtype}{byte} channelNumber, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_a3a62ebbd2dd0421e990b86f328aa90b1}{DeliveryMethod}} options, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} excludePeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01312}01312         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01313}01313             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01314}01314             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01315}01315                 \_peersLock.EnterReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01316}01316                 \textcolor{keywordflow}{for} (var netPeer = \_headPeer; netPeer != \textcolor{keyword}{null}; netPeer = netPeer.NextPeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01317}01317                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01318}01318                     \textcolor{keywordflow}{if} (netPeer != excludePeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01319}01319                         netPeer.Send(data, start, length, channelNumber, options);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01320}01320                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01321}01321             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01322}01322             \textcolor{keywordflow}{finally}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01323}01323             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01324}01324                 \_peersLock.ExitReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01325}01325             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01326}01326         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01327}01327 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01331}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a57af7382f7ac36399a863d91413d4c71}{01331}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a57af7382f7ac36399a863d91413d4c71}{Start}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01332}01332         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01333}01333             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a57af7382f7ac36399a863d91413d4c71}{Start}}(0);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01334}01334         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01335}01335 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01342}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aa75ba32d9729c2accb8a26f55436d46b}{01342}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aa75ba32d9729c2accb8a26f55436d46b}{Start}}(IPAddress addressIPv4, IPAddress addressIPv6, \textcolor{keywordtype}{int} port)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01343}01343         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01344}01344             \_manualMode = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01345}01345             \textcolor{keywordflow}{if} (!\_socket.Bind(addressIPv4, addressIPv6, port, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0e897f576496068367553c82f6cfd6b0}{ReuseAddress}}, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af35d3c8870bf5b20de91e22af447d4a7}{IPv6Enabled}}, \textcolor{keyword}{false}))}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01346}01346                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01347}01347             \_logicThread = \textcolor{keyword}{new} Thread(UpdateLogic) \{ Name = \textcolor{stringliteral}{"{}LogicThread"{}}, IsBackground = \textcolor{keyword}{true} \};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01348}01348             \_logicThread.Start();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01349}01349             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01350}01350         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01351}01351 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01358}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ab3d14872d416bdf5f0029446801269f6}{01358}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ab3d14872d416bdf5f0029446801269f6}{Start}}(\textcolor{keywordtype}{string} addressIPv4, \textcolor{keywordtype}{string} addressIPv6, \textcolor{keywordtype}{int} port)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01359}01359         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01360}01360             IPAddress ipv4 = NetUtils.ResolveAddress(addressIPv4);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01361}01361             IPAddress ipv6 = NetUtils.ResolveAddress(addressIPv6);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01362}01362             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a57af7382f7ac36399a863d91413d4c71}{Start}}(ipv4, ipv6, port);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01363}01363         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01364}01364 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01369}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a57e9a974f6c322b839851058abda4029}{01369}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a57e9a974f6c322b839851058abda4029}{Start}}(\textcolor{keywordtype}{int} port)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01370}01370         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01371}01371             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a57af7382f7ac36399a863d91413d4c71}{Start}}(IPAddress.Any, IPAddress.IPv6Any, port);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01372}01372         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01373}01373 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01383}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0ada7b8b742b45f712c6305510c0f3e8}{01383}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0ada7b8b742b45f712c6305510c0f3e8}{StartInManualMode}}(IPAddress addressIPv4, IPAddress addressIPv6, \textcolor{keywordtype}{int} port)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01384}01384         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01385}01385             \_manualMode = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01386}01386             \textcolor{keywordflow}{if} (!\_socket.Bind(addressIPv4, addressIPv6, port, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0e897f576496068367553c82f6cfd6b0}{ReuseAddress}}, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_af35d3c8870bf5b20de91e22af447d4a7}{IPv6Enabled}}, \textcolor{keyword}{true}))}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01387}01387                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01388}01388             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01389}01389         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01390}01390 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01400}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac77add74cd2a42cf80f6891736274b41}{01400}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ac77add74cd2a42cf80f6891736274b41}{StartInManualMode}}(\textcolor{keywordtype}{string} addressIPv4, \textcolor{keywordtype}{string} addressIPv6, \textcolor{keywordtype}{int} port)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01401}01401         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01402}01402             IPAddress ipv4 = NetUtils.ResolveAddress(addressIPv4);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01403}01403             IPAddress ipv6 = NetUtils.ResolveAddress(addressIPv6);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01404}01404             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0ada7b8b742b45f712c6305510c0f3e8}{StartInManualMode}}(ipv4, ipv6, port);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01405}01405         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01406}01406 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01414}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a632e04d1b167448004918465b5d25a86}{01414}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a632e04d1b167448004918465b5d25a86}{StartInManualMode}}(\textcolor{keywordtype}{int} port)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01415}01415         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01416}01416             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0ada7b8b742b45f712c6305510c0f3e8}{StartInManualMode}}(IPAddress.Any, IPAddress.IPv6Any, port);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01417}01417         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01418}01418 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01425}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a56c356743aac4d3fb5d5a0eb5ae45a12}{01425}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a56c356743aac4d3fb5d5a0eb5ae45a12}{SendUnconnectedMessage}}(\textcolor{keywordtype}{byte}[] message, IPEndPoint remoteEndPoint)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01426}01426         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01427}01427             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a56c356743aac4d3fb5d5a0eb5ae45a12}{SendUnconnectedMessage}}(message, 0, message.Length, remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01428}01428         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01429}01429 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01436}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaa0071625abd5722d42375e4bf2f17fc}{01436}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aaa0071625abd5722d42375e4bf2f17fc}{SendUnconnectedMessage}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}} writer, IPEndPoint remoteEndPoint)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01437}01437         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01438}01438             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a56c356743aac4d3fb5d5a0eb5ae45a12}{SendUnconnectedMessage}}(writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a5110c012d61a2d205eb3c61835acb278}{Data}}, 0, writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a7b8cf217eff327183d292a07f06bea23}{Length}}, remoteEndPoint);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01439}01439         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01440}01440 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01449}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a89cd2d27b6d8cbb7198397af2e092a09}{01449}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a89cd2d27b6d8cbb7198397af2e092a09}{SendUnconnectedMessage}}(\textcolor{keywordtype}{byte}[] message, \textcolor{keywordtype}{int} start, \textcolor{keywordtype}{int} length, IPEndPoint remoteEndPoint)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01450}01450         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01451}01451             \textcolor{comment}{//No need for CRC here, SendRaw does that}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01452}01452             NetPacket packet = NetPacketPool.GetWithData(PacketProperty.UnconnectedMessage, message, start, length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01453}01453             \textcolor{keywordflow}{return} SendRawAndRecycle(packet, remoteEndPoint) > 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01454}01454         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01455}01455 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01456}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_adab92bff83d9d0d08f3b9010f6f771e5}{01456}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_adab92bff83d9d0d08f3b9010f6f771e5}{SendBroadcast}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}} writer, \textcolor{keywordtype}{int} port)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01457}01457         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01458}01458             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_adab92bff83d9d0d08f3b9010f6f771e5}{SendBroadcast}}(writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a5110c012d61a2d205eb3c61835acb278}{Data}}, 0, writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a7b8cf217eff327183d292a07f06bea23}{Length}}, port);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01459}01459         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01460}01460 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01461}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ae2cfce339069cb6f1259f72e2e7073b9}{01461}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ae2cfce339069cb6f1259f72e2e7073b9}{SendBroadcast}}(\textcolor{keywordtype}{byte}[] data, \textcolor{keywordtype}{int} port)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01462}01462         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01463}01463             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_adab92bff83d9d0d08f3b9010f6f771e5}{SendBroadcast}}(data, 0, data.Length, port);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01464}01464         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01465}01465 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01466}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a296b55edeb659ac3854b4cf9daa56eb0}{01466}}         \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a296b55edeb659ac3854b4cf9daa56eb0}{SendBroadcast}}(\textcolor{keywordtype}{byte}[] data, \textcolor{keywordtype}{int} start, \textcolor{keywordtype}{int} length, \textcolor{keywordtype}{int} port)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01467}01467         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01468}01468             NetPacket packet;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01469}01469             \textcolor{keywordflow}{if} (\_extraPacketLayer != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01470}01470             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01471}01471                 var headerSize = NetPacket.GetHeaderSize(PacketProperty.Broadcast);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01472}01472                 packet = NetPacketPool.GetPacket(headerSize + length + \_extraPacketLayer.ExtraPacketSizeForLayer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01473}01473                 packet.Property = PacketProperty.Broadcast;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01474}01474                 Buffer.BlockCopy(data, start, packet.RawData, headerSize, length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01475}01475                 var checksumComputeStart = 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01476}01476                 \textcolor{keywordtype}{int} preCrcLength = length + headerSize;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01477}01477                 \_extraPacketLayer.ProcessOutBoundPacket(\textcolor{keyword}{null}, ref packet.RawData, ref checksumComputeStart, ref preCrcLength);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01478}01478             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01479}01479             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01480}01480             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01481}01481                 packet = NetPacketPool.GetWithData(PacketProperty.Broadcast, data, start, length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01482}01482             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01483}01483 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01484}01484             \textcolor{keywordtype}{bool} result = \_socket.SendBroadcast(packet.RawData, 0, packet.Size, port);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01485}01485             NetPacketPool.Recycle(packet);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01486}01486             \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01487}01487         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01488}01488 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01492}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ad1045d089b0448e2c157600c84d692a7}{01492}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ad1045d089b0448e2c157600c84d692a7}{TriggerUpdate}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01493}01493         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01494}01494             \_updateTriggerEvent.Set();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01495}01495         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01496}01496 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01500}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a89c85e0367662ff420872fedada8df5a}{01500}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a89c85e0367662ff420872fedada8df5a}{PollEvents}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01501}01501         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01502}01502             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a3e317cbf48981a01a111a2d9f41c143a}{UnsyncedEvents}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01503}01503                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01504}01504             \textcolor{keywordtype}{int} eventsCount;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01505}01505             lock (\_netEventsQueue)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01506}01506                 eventsCount = \_netEventsQueue.Count;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01507}01507             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < eventsCount; i++)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01508}01508             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01509}01509                 NetEvent evt;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01510}01510                 lock (\_netEventsQueue)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01511}01511                     evt = \_netEventsQueue.Dequeue();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01512}01512                 ProcessEvent(evt);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01513}01513             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01514}01514         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01515}01515 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01524}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a11f2f836eaa0f9dab4bb1e45daa2d76d}{01524}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a11f2f836eaa0f9dab4bb1e45daa2d76d}{Connect}}(\textcolor{keywordtype}{string} address, \textcolor{keywordtype}{int} port, \textcolor{keywordtype}{string} key)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01525}01525         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01526}01526             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a11f2f836eaa0f9dab4bb1e45daa2d76d}{Connect}}(address, port, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}}.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a6ac39d838cc42891e96fba0de21b1e07}{FromString}}(key));}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01527}01527         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01528}01528 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01537}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a50898820687a736ace80d9e079c79702}{01537}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a50898820687a736ace80d9e079c79702}{Connect}}(\textcolor{keywordtype}{string} address, \textcolor{keywordtype}{int} port, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}} connectionData)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01538}01538         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01539}01539             IPEndPoint ep;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01540}01540             \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01541}01541             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01542}01542                 ep = NetUtils.MakeEndPoint(address, port);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01543}01543             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01544}01544             \textcolor{keywordflow}{catch}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01545}01545             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01546}01546                 CreateEvent(NetEvent.EType.Disconnect, disconnectReason: \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.UnknownHost);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01547}01547                 \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01548}01548             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01549}01549             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a11f2f836eaa0f9dab4bb1e45daa2d76d}{Connect}}(ep, connectionData);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01550}01550         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01551}01551 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01559}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a30d5a6bc746ffab85a4bab12562c11d9}{01559}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a30d5a6bc746ffab85a4bab12562c11d9}{Connect}}(IPEndPoint target, \textcolor{keywordtype}{string} key)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01560}01560         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01561}01561             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a11f2f836eaa0f9dab4bb1e45daa2d76d}{Connect}}(target, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}}.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a6ac39d838cc42891e96fba0de21b1e07}{FromString}}(key));}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01562}01562         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01563}01563 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01571}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a89783e4cb97e8ecb8a8e75de4a65d20a}{01571}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a89783e4cb97e8ecb8a8e75de4a65d20a}{Connect}}(IPEndPoint target, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}} connectionData)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01572}01572         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01573}01573             \textcolor{keywordflow}{if} (!\_socket.IsRunning)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01574}01574                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} InvalidOperationException(\textcolor{stringliteral}{"{}Client is not running"{}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01575}01575 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01576}01576             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01577}01577             \textcolor{keywordtype}{byte} connectionNumber = 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01578}01578 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01579}01579             lock(\_requestsDict)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01580}01580             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01581}01581                 \textcolor{keywordflow}{if} (\_requestsDict.ContainsKey(target))}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01582}01582                     \textcolor{keywordflow}{return} \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01583}01583             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01584}01584 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01585}01585             \_peersLock.EnterUpgradeableReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01586}01586             \textcolor{keywordflow}{if} (\_peersDict.TryGetValue(target, out peer))}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01587}01587             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01588}01588                 \textcolor{keywordflow}{switch} (peer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer_a6af440de96961ed6e565d834aa4c92b5}{ConnectionState}})}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01589}01589                 \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01590}01590                     \textcolor{comment}{//just return already connected peer}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01591}01591                     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa64a4f414fc08c866495cef70473b83d}{ConnectionState}}.Connected:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01592}01592                     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa64a4f414fc08c866495cef70473b83d}{ConnectionState}}.Outgoing:}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01593}01593                         \_peersLock.ExitUpgradeableReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01594}01594                         \textcolor{keywordflow}{return} peer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01595}01595                 \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01596}01596                 \textcolor{comment}{//else reconnect}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01597}01597                 connectionNumber = (byte)((peer.ConnectionNum + 1) \% NetConstants.MaxConnectionNumber);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01598}01598                 RemovePeer(peer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01599}01599             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01600}01600 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01601}01601             \textcolor{comment}{//Create reliable connection}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01602}01602             \textcolor{comment}{//And send connection request}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01603}01603             peer = \textcolor{keyword}{new} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}}(\textcolor{keyword}{this}, target, GetNextPeerId(), connectionNumber, connectionData);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01604}01604             AddPeer(peer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01605}01605             \_peersLock.ExitUpgradeableReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01606}01606 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01607}01607             \textcolor{keywordflow}{return} peer;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01608}01608         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01609}01609 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01613}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ad5908d21b7a78f968cffd0cd9a85b68d}{01613}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ad5908d21b7a78f968cffd0cd9a85b68d}{Stop}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01614}01614         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01615}01615             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ad5908d21b7a78f968cffd0cd9a85b68d}{Stop}}(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01616}01616         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01617}01617 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01622}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_afb0c42055b8d5bc445330e63eac3feab}{01622}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_afb0c42055b8d5bc445330e63eac3feab}{Stop}}(\textcolor{keywordtype}{bool} sendDisconnectMessages)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01623}01623         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01624}01624             \textcolor{keywordflow}{if} (!\_socket.IsRunning)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01625}01625                 \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01626}01626             NetDebug.Write(\textcolor{stringliteral}{"{}[NM] Stop"{}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01627}01627 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01628}01628             \textcolor{comment}{//Send last disconnect}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01629}01629             \textcolor{keywordflow}{for}(var netPeer = \_headPeer; netPeer != \textcolor{keyword}{null}; netPeer = netPeer.NextPeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01630}01630                 netPeer.Shutdown(\textcolor{keyword}{null}, 0, 0, !sendDisconnectMessages);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01631}01631 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01632}01632             \textcolor{comment}{//Stop}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01633}01633             \_socket.Close(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01634}01634             \_updateTriggerEvent.Set();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01635}01635             \textcolor{keywordflow}{if} (!\_manualMode)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01636}01636             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01637}01637                 \_logicThread.Join();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01638}01638                 \_logicThread = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01639}01639             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01640}01640 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01641}01641             \textcolor{comment}{//clear peers}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01642}01642             \_peersLock.EnterWriteLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01643}01643             \_headPeer = \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01644}01644             \_peersDict.Clear();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01645}01645             \_peersArray = \textcolor{keyword}{new} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}}[32];}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01646}01646             \_peersLock.ExitWriteLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01647}01647             lock(\_peerIds)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01648}01648                 \_peerIds.Clear();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01649}01649 \textcolor{preprocessor}{\#if DEBUG}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01650}01650             lock (\_pingSimulationList)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01651}01651                 \_pingSimulationList.Clear();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01652}01652 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01653}01653             \_connectedPeersCount = 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01654}01654             lock(\_netEventsQueue)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01655}01655                 \_netEventsQueue.Clear();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01656}01656         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01657}01657 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01663}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a66e4df5c49b6a2e9937f653d8e355d5c}{01663}}         \textcolor{keyword}{public} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a66e4df5c49b6a2e9937f653d8e355d5c}{GetPeersCount}}(\mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa64a4f414fc08c866495cef70473b83d}{ConnectionState}} peerState)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01664}01664         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01665}01665             \textcolor{keywordtype}{int} count = 0;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01666}01666             \_peersLock.EnterReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01667}01667             \textcolor{keywordflow}{for} (var netPeer = \_headPeer; netPeer != \textcolor{keyword}{null}; netPeer = netPeer.NextPeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01668}01668             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01669}01669                 \textcolor{keywordflow}{if} ((netPeer.ConnectionState \& peerState) != 0)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01670}01670                     count++;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01671}01671             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01672}01672             \_peersLock.ExitReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01673}01673             \textcolor{keywordflow}{return} count;}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01674}01674         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01675}01675 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01681}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a60040ce324831a26ee658de98df48ccd}{01681}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a60040ce324831a26ee658de98df48ccd}{GetPeersNonAlloc}}(List<NetPeer> peers, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa64a4f414fc08c866495cef70473b83d}{ConnectionState}} peerState)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01682}01682         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01683}01683             peers.Clear();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01684}01684             \_peersLock.EnterReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01685}01685             \textcolor{keywordflow}{for} (var netPeer = \_headPeer; netPeer != \textcolor{keyword}{null}; netPeer = netPeer.NextPeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01686}01686             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01687}01687                 \textcolor{keywordflow}{if} ((netPeer.ConnectionState \& peerState) != 0)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01688}01688                     peers.Add(netPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01689}01689             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01690}01690             \_peersLock.ExitReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01691}01691         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01692}01692 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01696}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aefe619b20a21dceee435746465bc93ea}{01696}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aefe619b20a21dceee435746465bc93ea}{DisconnectAll}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01697}01697         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01698}01698             \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_aefe619b20a21dceee435746465bc93ea}{DisconnectAll}}(\textcolor{keyword}{null}, 0, 0);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01699}01699         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01700}01700 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01707}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0cbe2dcbedb6dd198b5328bca7071fd4}{01707}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a0cbe2dcbedb6dd198b5328bca7071fd4}{DisconnectAll}}(\textcolor{keywordtype}{byte}[] data, \textcolor{keywordtype}{int} start, \textcolor{keywordtype}{int} count)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01708}01708         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01709}01709             \textcolor{comment}{//Send disconnect packets}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01710}01710             \_peersLock.EnterReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01711}01711             \textcolor{keywordflow}{for} (var netPeer = \_headPeer; netPeer != \textcolor{keyword}{null}; netPeer = netPeer.NextPeer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01712}01712             \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01713}01713                 DisconnectPeer(}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01714}01714                     netPeer, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01715}01715                     \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.DisconnectPeerCalled, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01716}01716                     0, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01717}01717                     \textcolor{keyword}{false},}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01718}01718                     data, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01719}01719                     start, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01720}01720                     count,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01721}01721                     \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01722}01722             \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01723}01723             \_peersLock.ExitReadLock();}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01724}01724         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01725}01725 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01730}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a2bc6d52d6aba26a639fa6c5d8d99b58d}{01730}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a2bc6d52d6aba26a639fa6c5d8d99b58d}{DisconnectPeerForce}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01731}01731         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01732}01732             DisconnectPeerForce(peer, \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.DisconnectPeerCalled, 0, \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01733}01733         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01734}01734 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01739}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a6b522279f75eb31a07bcfd16e22fea63}{01739}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a6b522279f75eb31a07bcfd16e22fea63}{DisconnectPeer}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01740}01740         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01741}01741             DisconnectPeer(peer, \textcolor{keyword}{null}, 0, 0);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01742}01742         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01743}01743 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01749}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ad31de5b83a59d43668f61070fdafacf3}{01749}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ad31de5b83a59d43668f61070fdafacf3}{DisconnectPeer}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer, \textcolor{keywordtype}{byte}[] data)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01750}01750         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01751}01751             DisconnectPeer(peer, data, 0, data.Length);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01752}01752         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01753}01753 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01759}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a9653e878ff3abaabd92eeccaff739bac}{01759}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a9653e878ff3abaabd92eeccaff739bac}{DisconnectPeer}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer, \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer}{NetDataWriter}} writer)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01760}01760         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01761}01761             DisconnectPeer(peer, writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a5110c012d61a2d205eb3c61835acb278}{Data}}, 0, writer.\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_utils_1_1_net_data_writer_a7b8cf217eff327183d292a07f06bea23}{Length}});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01762}01762         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01763}01763 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01771}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a5cfe67c2e55b8e8fd5d0411f748293fc}{01771}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a5cfe67c2e55b8e8fd5d0411f748293fc}{DisconnectPeer}}(\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_peer}{NetPeer}} peer, \textcolor{keywordtype}{byte}[] data, \textcolor{keywordtype}{int} start, \textcolor{keywordtype}{int} count)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01772}01772         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01773}01773             DisconnectPeer(}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01774}01774                 peer, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01775}01775                 \mbox{\hyperlink{namespace_flying_worm_console3_1_1_lite_net_lib_aa707be3df2f858c7b0c7dd97cc5b59c5}{DisconnectReason}}.DisconnectPeerCalled, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01776}01776                 0, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01777}01777                 \textcolor{keyword}{false},}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01778}01778                 data, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01779}01779                 start, }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01780}01780                 count,}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01781}01781                 \textcolor{keyword}{null});}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01782}01782         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01783}01783 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01788}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ab36a3cf164bcb3ce207a99ed6f6325fd}{01788}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_ab36a3cf164bcb3ce207a99ed6f6325fd}{CreateNtpRequest}}(IPEndPoint endPoint)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01789}01789         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01790}01790             \_ntpRequests.Add(endPoint, \textcolor{keyword}{new} NtpRequest(endPoint));}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01791}01791         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01792}01792 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01798}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a8de30eaa2b33ffd044ff10899a6b5453}{01798}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a8de30eaa2b33ffd044ff10899a6b5453}{CreateNtpRequest}}(\textcolor{keywordtype}{string} ntpServerAddress, \textcolor{keywordtype}{int} port)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01799}01799         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01800}01800             IPEndPoint endPoint = NetUtils.MakeEndPoint(ntpServerAddress, port);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01801}01801             \_ntpRequests.Add(endPoint, \textcolor{keyword}{new} NtpRequest(endPoint));}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01802}01802         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01803}01803 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01808}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a59740a27c604ba23e6f54a7889393c41}{01808}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a59740a27c604ba23e6f54a7889393c41}{CreateNtpRequest}}(\textcolor{keywordtype}{string} ntpServerAddress)}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01809}01809         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01810}01810             IPEndPoint endPoint = NetUtils.MakeEndPoint(ntpServerAddress, NtpRequest.DefaultPort);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01811}01811             \_ntpRequests.Add(endPoint, \textcolor{keyword}{new} NtpRequest(endPoint));}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01812}01812         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01813}01813 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01814}\mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a41f1894c9ba599d13201980e5304dc18}{01814}}         \textcolor{keyword}{public} \mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator}{NetPeerEnumerator}} \mbox{\hyperlink{class_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_a41f1894c9ba599d13201980e5304dc18}{GetEnumerator}}()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01815}01815         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01816}01816             \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{struct_flying_worm_console3_1_1_lite_net_lib_1_1_net_manager_1_1_net_peer_enumerator}{NetPeerEnumerator}}(\_headPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01817}01817         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01818}01818 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01819}01819         IEnumerator<NetPeer> IEnumerable<NetPeer>.GetEnumerator()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01820}01820         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01821}01821             \textcolor{keywordflow}{return} \textcolor{keyword}{new} NetPeerEnumerator(\_headPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01822}01822         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01823}01823 }
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01824}01824         IEnumerator IEnumerable.GetEnumerator()}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01825}01825         \{}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01826}01826             \textcolor{keywordflow}{return} \textcolor{keyword}{new} NetPeerEnumerator(\_headPeer);}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01827}01827         \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01828}01828     \}}
\DoxyCodeLine{\Hypertarget{_net_manager_8cs_source_l01829}01829 \}}

\end{DoxyCode}
